# __Сравнительный анализ пабликов, посвященных достопримечательностям и развлечениям Москвы и Санкт-Петербурга.__

## _Над проектом работали: Милова Анастасия, Повстьева Карина_

Файл с кодом находится [тут]().

### __Задачи проекта:__

1. Найти существующие в вк паблики, посвященные достопримечательностям и развлечениям в Москве и Санкт-Петербурге.  
2. Выбрать 2 наиболее значимых паблика по Москве и Санкт-Петербургу. 
3. Определить распределение по возрасту и полу подписчиков каждого паблика.
4. Определить наиболее распространённые города проживания подписчиков каждого паблика.  
5. Сравнить распространённость городов проживания подписчиков пабликов. 
6. Выявить наличие и количество людей, состоящих в обоих пабликах.  
7. Определить, жители каких городов являются подписчиками обоих пабликов. 
8. Выявить наиболее часто встречающиеся в постах пабликов достопримечательности, локации, персон и их пересечения. 

Работу над проектом мы начали с выгрузки групп социальной сети "ВКонтакте", посвященных достопримечательностям и развлечениям в Москве и Санкт-Петербурге, по идентичным ключевым словам для каждого города ("Куда пойти в Москве/Санкт-Петербурге", "Интересные места Москвы/Санкт-Петербурга", "Экскурсии по Москве/Санкт-Петербургу", "События в Москве/Санкт-Петербурге"). В результате количество таких групп по [Санкт-Петербургу](files/saved_groups_spb.tsv) (602) значительно превысил количество групп по [Москве](files/saved_groups_spb.tsv) (218).

Переходим к более подробному анализу на примере конкретных пабликов. Для исследования нами были выбраны популярные паблики ["KudaGo: Москва"](https://vk.com/kudago) (1074738 подписчиков) и ["KudaGo: Санкт-Петербург"](https://vk.com/kudagospb) (650417 подписчиков). То, что данные паблики являются однотипными, гарантирует наиболее схожую тематику и формат постов, что позволяет выявить при анализе более точные закономерности, связи и различия.

Мы начали анализ с исследования демографических характеристик (пола, возраста) подписчиков каждого паблика. Мы поистроили графики, демонстрирующие возрастное и гендерное распределение в каждом паблике, а так же графики, которые демонстрируют их сравнение.

![график возраста 1](graphs/birth_count_msk.png)

![график возраста 2](graphs/birth_count_spb.png)

![график сравнения возраста]()

![график пола 1](graphs/sex_count_msk.png)

![график пола 2](graphs/sex_count_spb.png)

![график сравнения пола]()

По данным графикам видно, что значимых различий в демографически характеристиках подписчиков пабликов не наблюдается. В среднем количество подписчиков женского пола заметно превышает количество подписчиков мужского пола. Средний возраст подписчиков - от 20 до 35 лет (1985 - 2000 годы рождения).

Далее нами были определены наиболее распространённые города проживания подписчиков каждого паблика. Были построены графики, отображающие 10 наиболее распространённых городов проживания подписчиков паблика "KudaGo: Москва" и "KudaGo: Санкт-Петербург", а также график, показывающий их сравнение.


![](graphs/city_count_msk.png)


![](graphs/city_count_spb.png)


![сравнительный график городов]()

Как мы видим, подавляющее большинство подписчиков проживает в том городе, развлечениям и достопримечательностям которого посвящён паблик. При этом важно отметить, что у паблика "KudaGo: Москва" подписчиков из Санкт-Петербурга больше, чем из других городов, а у паблика "KudaGo: Санкт-Петербург" - подписчиков из Москвы. Различаются и остальные города из топ-10 самых распространённых, что может объясняться их географическим положением и близостью к Москве или Санкт-Петербургу соответственно. Важным является и тот факт, что в паблике "KudaGo: Санкт-Петербург" доля подписчиков, проживающих в Москве, выше, чем доля подписчиков из Санкт-Петербурга в паблике "KudaGo: Москва". Это может свидетельствовать о том, что москвичи больше интересуются посещением Северной столицы, чем жители Санкт-Петербурга - досугом в Москве.

Мы предположили, что существуют люди, которые подписаны на оба паблика. Анализ показал, что количество общих участников составляет 54692 человек. Далее нами был построен график, отображающий топ-10 самых распространённых городов проживания этих подписчиков. 

![](graphs/city_count_inter.png)

Очевидно, что большинство людей, подписанных на оба паблика, проживают в Москве и Санкт-Петербурге. При этом количество подписчиков из Москвы заметно превышает количество подписчиков из Санкт-Петербурга.



Переходим к анализу постов пабликов. Мы выгрузили посты паблика ["KudaGo: Москва"]() ( постов) и ["KudaGo: Санкт-Петербург"]() ( постов). Затем мы провели обработку и лемматизацию текстов постов:

* с помощью регулярных выражений очистили тексты от ссылок, отметок пользователей и групп, переводов строк;

* токенизировали текст;

* определили количество слов ( - "KudaGo: Москва",  - "KudaGo: Санкт-Петербург");
  
* очистили тексты от ненужных слов при помощи списка [стоп-слов](files/stopwords_russian.txt);

* создали список самых частых слов очищенных и лемматизированных постов:

     * ![Самые часто встречаемые слова в постах паблика "KudaGo: Москва"]()
     * ![Самые часто встречаемые слова в постах паблика "KudaGo: Санкт-Петербург"]()

* при помощи библиотеки "natasha" определили самые часто встречающиеся в текстах постов пабликов локации, организации и персоны:

     * ![Локации "KudaGo: Москва"]()   
     
     * ![Организации "KudaGo: Москва"]() 
     
     * ![Персоны "KudaGo: Москва"]() 
     
     * ![Локации "KudaGo: Санкт-Петербург"]() 
     
     * ![Организации "KudaGo: Санкт-Петерьург"]() 
     
     * ![Персоны "KudaGo: Санкт-Петербург"]() 
     
* определили, есть ли локации, организации и персоны, которые встречаются в текстах двух пабликов, выявили, какие:

     * ![Пересекающиеся локации]() 
     
     * ![Пересекающиеся организации]() 
     
     * ![Пересекающиеся персоны]() 


### __Выводы:__

1. 
2. 
3. 
